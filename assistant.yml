app:
  description: æ™ºèƒ½æ¶ˆæ¯æ‰˜ç®¡åŠ©æ‰‹
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: QuiteMind
  use_icon_as_answer_icon: true
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/json_process:0.0.2@7afb534cc85b28a8e9c7f9410d1cfc31fb7bd3950023355a37059dbe809ac776
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/tongyi:0.0.25@325423749d5e71f8b4681af1b2ed46d7686cb1947e443a86ba5d14ac45ff85a4
kind: app
version: 0.3.0
workflow:
  conversation_variables:
  - description: ''
    id: 908a8237-eb5e-44c3-9cc2-20b1093e0c03
    name: unreplystr
    selector:
    - conversation
    - unreplystr
    value: ''
    value_type: string
  - description: ''
    id: 7c6608cc-6e7d-440d-bf87-e448b70948fd
    name: reply
    selector:
    - conversation
    - reply
    value: ''
    value_type: string
  - description: ''
    id: fa8d831f-2e46-41ba-8671-7b8043d18830
    name: history
    selector:
    - conversation
    - history
    value: []
    value_type: array[object]
  - description: ''
    id: b96c0075-52f6-4938-93d0-a6d5e27f876b
    name: unreply
    selector:
    - conversation
    - unreply
    value: []
    value_type: array[string]
  environment_variables:
  - description: ''
    id: c4d0dc77-1dd1-42df-a4f1-a689a7ab5256
    name: MAX_HISTORY_LEN
    selector:
    - env
    - MAX_HISTORY_LEN
    value: 50
    value_type: number
  - description: ''
    id: 778c65ae-ac36-4401-87cf-82722081d880
    name: ZAPIER_MCP_URL
    selector:
    - env
    - zapier_url
    value: ''
    value_type: secret
  - description: ''
    id: b204ece3-f47b-4a60-9ca0-4dd4229f2cad
    name: USER_EMAIL
    selector:
    - env
    - Email_address
    value: ''
    value_type: secret
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: false
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: question-classifier
        targetType: llm
      id: 1747497224267-2-1747497553101-target
      selected: false
      source: '1747497224267'
      sourceHandle: '2'
      target: '1747497553101'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: question-classifier
        targetType: llm
      id: 1747497224267-1747497363644-1747497556365-target
      selected: false
      source: '1747497224267'
      sourceHandle: '1747497363644'
      target: '1747497556365'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: question-classifier
        targetType: llm
      id: 1747497224267-1-1747528331045-target
      selected: false
      source: '1747497224267'
      sourceHandle: '1'
      target: '1747528331045'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: agent
      id: 1747497553101-source-1747532930377-target
      selected: false
      source: '1747497553101'
      sourceHandle: source
      target: '1747532930377'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: tool
      id: 17481526039570-source-17481526177860-target
      selected: false
      source: '17481526039570'
      sourceHandle: source
      target: '17481526177860'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: tool
      id: 17481526039570-source-1748154544581-target
      selected: false
      source: '17481526039570'
      sourceHandle: source
      target: '1748154544581'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1748152669344-true-17481546076930-target
      selected: false
      source: '1748152669344'
      sourceHandle: 'true'
      target: '17481546076930'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: assigner
      id: 1748152669344-false-1748153137091-target
      selected: false
      source: '1748152669344'
      sourceHandle: 'false'
      target: '1748153137091'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: code
      id: 17481526177860-source-1748875365710-target
      selected: false
      source: '17481526177860'
      sourceHandle: source
      target: '1748875365710'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: 1748875365710-source-1748152669344-target
      selected: false
      source: '1748875365710'
      sourceHandle: source
      target: '1748152669344'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: question-classifier
        targetType: llm
      id: 1747497224267-1747527648842-1748876762979-target
      selected: false
      source: '1747497224267'
      sourceHandle: '1747527648842'
      target: '1748876762979'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: assigner
      id: 1748876384302-source-1748878644670-target
      source: '1748876384302'
      sourceHandle: source
      target: '1748878644670'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: code
      id: 17481546076930-source-1748879756019-target
      source: '17481546076930'
      sourceHandle: source
      target: '1748879756019'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: assigner
      id: 1748879756019-source-1748880194097-target
      source: '1748879756019'
      sourceHandle: source
      target: '1748880194097'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: tool
      id: 1748880194097-source-1747528216044-target
      source: '1748880194097'
      sourceHandle: source
      target: '1747528216044'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: agent
        targetType: variable-aggregator
      id: 1747532930377-source-1748877901200-target
      source: '1747532930377'
      sourceHandle: source
      target: '1748877901200'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: variable-aggregator
      id: 1747497556365-source-1748877901200-target
      source: '1747497556365'
      sourceHandle: source
      target: '1748877901200'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: variable-aggregator
      id: 1747528331045-source-1748877901200-target
      source: '1747528331045'
      sourceHandle: source
      target: '1748877901200'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: variable-aggregator
      id: 1748876762979-source-1748877901200-target
      source: '1748876762979'
      sourceHandle: source
      target: '1748877901200'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: variable-aggregator
        targetType: answer
      id: 1748877901200-source-1748880840805-target
      source: '1748877901200'
      sourceHandle: source
      target: '1748880840805'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: answer
        targetType: code
      id: 1748880840805-source-1748876384302-target
      source: '1748880840805'
      sourceHandle: source
      target: '1748876384302'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: question-classifier
      id: 1747528216044-source-1747497224267-target
      source: '1747528216044'
      sourceHandle: source
      target: '1747497224267'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: if-else
      id: 1748918401849-source-17489187083700-target
      source: '1748918401849'
      sourceHandle: source
      target: '17489187083700'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: agent
      id: 17489187083700-true-1748438676437-target
      source: '17489187083700'
      sourceHandle: 'true'
      target: '1748438676437'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: agent
        targetType: answer
      id: 1748438676437-source-1748507212807-target
      source: '1748438676437'
      sourceHandle: source
      target: '1748507212807'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 17489187083700-false-17481526039570-target
      source: '17489187083700'
      sourceHandle: 'false'
      target: '17481526039570'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: code
      id: 1747384102423-source-1748919425306-target
      source: '1747384102423'
      sourceHandle: source
      target: '1748919425306'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: llm
      id: 1748919425306-source-1748921064911-target
      source: '1748919425306'
      sourceHandle: source
      target: '1748921064911'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: llm
      id: 1748921064911-source-1748918401849-target
      source: '1748921064911'
      sourceHandle: source
      target: '1748918401849'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: assigner
        targetType: code
      id: 1748878644670-source-1748925737523-target
      selected: false
      source: '1748878644670'
      sourceHandle: source
      target: '1748925737523'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: if-else
      id: 1748925737523-source-1748927014899-target
      selected: false
      source: '1748925737523'
      sourceHandle: source
      target: '1748927014899'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1748927014899-true-1748925987523-target
      selected: false
      source: '1748927014899'
      sourceHandle: 'true'
      target: '1748925987523'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: assigner
      id: 1748878644670-source-1748878940036-target
      source: '1748878644670'
      sourceHandle: source
      target: '1748878940036'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1748925987523-source-1748929690498-target
      selected: false
      source: '1748925987523'
      sourceHandle: source
      target: '1748929690498'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: assigner
      id: 1748929690498-source-1748935738240-target
      source: '1748929690498'
      sourceHandle: source
      target: '1748935738240'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: æ¶ˆæ¯æ¥æ”¶
        type: start
        variables: []
      height: 53
      id: '1747384102423'
      position:
        x: 30
        y: 262.5
      positionAbsolute:
        x: 30
        y: 262.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        classes:
        - id: '1'
          name: æ¶‰åŠå·¥ä½œï¼Œé‡è¦ä½†ä¸ç´§æ€¥
        - id: '2'
          name: æ¶‰åŠå·¥ä½œï¼Œé‡è¦ä¸”ç´§æ€¥
        - id: '1747497363644'
          name: æ¶‰åŠå·¥ä½œï¼Œç´§æ€¥ä½†ä¸é‡è¦
        - id: '1747527648842'
          name: æ—¥å¸¸äº¤æµæˆ–ä¸é‡è¦ä¸”ä¸ç´§æ€¥çš„äº‹æƒ…
        desc: ç¡®è®¤é‡è¦æ€§å’Œç´§æ€¥æ€§
        instruction: 'ä½ æ˜¯ä¸€ä¸ªæ¶ˆæ¯åˆ†ç±»åŠ©æ‰‹ï¼Œä½ éœ€è¦ç»“åˆæ¶ˆæ¯å†…å®¹å’Œç°åœ¨çš„æ—¶é—´åˆ¤æ–­ä¸‹é¢çš„æ¶ˆæ¯çš„é‡è¦æ€§å’Œç´§æ€¥æ€§ç­‰çº§ã€‚

          ç°åœ¨æ˜¯{{#1747528216044.text#}}'
        instructions: ''
        memory:
          query_prompt_template: '{{#sys.query#}}'
          window:
            enabled: false
            size: 50
        model:
          completion_params:
            temperature: 0.7
          mode: chat
          name: qwen-plus-2025-04-28
          provider: langgenius/tongyi/tongyi
        query_variable_selector:
        - conversation
        - unreplystr
        selected: false
        title: å››è±¡é™åˆ†ç±»
        topics: []
        type: question-classifier
        vision:
          enabled: false
      height: 275
      id: '1747497224267'
      position:
        x: 3982
        y: 389.5
      positionAbsolute:
        x: 3982
        y: 389.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: qwen-plus-0125
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: f3fd7844-ef9a-4031-a942-58287033b4db
          role: system
          text: 'ä½ æ˜¯ä¸€åç”Ÿæ´»åŠ©ç†ï¼Œæ­£åœ¨ååŠ©ä½ çš„ä¸»äººå¤„ç†æ¥ä¿¡ã€‚ä»¥ä¸‹æ˜¯ä¸€ä½è”ç³»äººå‘æ¥çš„è¯·æ±‚ï¼Œè¯¥è¯·æ±‚è¢«ç³»ç»Ÿåˆ¤å®šä¸ºâ€œç´§æ€¥ä¸”å¿…è¦â€ã€‚ä½ çš„ä»»åŠ¡æ˜¯ä»¥ç¤¼è²Œã€ä¸“ä¸šä½†åšå®šçš„è¯­æ°”å›å¤å¯¹æ–¹ï¼Œæ˜ç¡®è¯´æ˜ï¼š

            ä½ æ˜¯ç”Ÿæ´»åŠ©ç†ï¼Œå½“å‰æ— æ³•ç›´æ¥å¤„ç†è¯¥äº‹é¡¹ï¼›

            å¯¹æ–¹æå‡ºçš„äº‹æƒ…å¾ˆé‡è¦ï¼Œä½ ä¼šç«‹å³è½¬è¾¾ç»™ä¸»äººï¼›

            è¯·å¯¹æ–¹ç¨ä½œç­‰å¾…ï¼Œä¸åº”å¯¹ä½ æå‡ºå¤„ç†è¦æ±‚ã€‚

            è¯·ç”Ÿæˆä¸€æ¡æ¶ˆæ¯ï¼Œè¯­æ°”åº”æ¸©å’Œä½†æœ‰è¾¹ç•Œï¼Œä¼ è¾¾é‡è§†å’Œå°Šé‡çš„æ€åº¦ï¼ŒåŒæ—¶è®¾å®šæ¸…æ™°çš„è§’è‰²èŒè´£å’Œæ—¶é—´é¢„æœŸã€‚'
        - id: 7aebaf95-626c-4d0a-baea-ebc70f78f0c6
          role: user
          text: å“¥ä½ èƒ½ä¸èƒ½å¸®æˆ‘çœ‹çœ‹æˆ‘è¿™ä¸ªæ–‡ä»¶æœ‰æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œæˆ‘ä¸€ä¼šè¦äº¤ç»™è€å¸ˆå®¡æ ¸äº†ã€‚
        - id: 009a6a6f-b289-4b42-9e53-0a9a44745461
          role: assistant
          text: 'æ‚¨å¥½ï¼Œæ„Ÿè°¢æ‚¨çš„æ¥ä¿¡ï¼æˆ‘ç°åœ¨åœ¨å¿™å…¶å®ƒçš„äº‹æƒ…ï¼Œç°åœ¨æ˜¯æˆ‘çš„ç”Ÿæ´»åŠ©ç†åœ¨å›å¤æ‚¨ã€‚

            æ‚¨æ‰€æçš„äº‹é¡¹æˆ‘çš„ç”Ÿæ´»åŠ©ç†å·²æ³¨æ„åˆ°ï¼Œç¡®å®éå¸¸é‡è¦ã€‚

            ä»–ä¼šç«‹å³å°†æ‚¨çš„ä¿¡æ¯è½¬è¾¾ï¼Œå¹¶å°½å¿«æé†’æˆ‘æŸ¥çœ‹ï¼Œè¯·æ‚¨ç¨ä½œç­‰å¾…ã€‚æ„Ÿè°¢ç†è§£ï¼'
        - id: bb70f48c-bfee-4086-8c1b-8a489968ea8b
          role: user
          text: 'è”ç³»äººæœ¬è½®è¾“å…¥ï¼š{{#conversation.unreplystr#}}

            å†å²è®°å½•ï¼š{{#1748919425306.result#}}'
        selected: false
        title: é‡è¦ä¸”ç´§æ€¥
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1747497553101'
      position:
        x: 4286
        y: 389.5
      positionAbsolute:
        x: 4286
        y: 389.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: qwen-plus-0125
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: d4ab6d49-ca82-4c47-84d3-8e4e49516e06
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªç”Ÿæ´»åŠ©ç†ï¼Œæ­£åœ¨å¸®ä½ çš„ä¸»äººå¤„ç†æ¥ä¿¡ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªäººå‘æ¥çš„è¯·æ±‚ï¼Œè¯¥è¯·æ±‚è¢«ç³»ç»Ÿåˆ¤å®šä¸ºâ€œç´§æ€¥ä½†ä¸å¿…è¦â€ï¼Œä½ çš„ä»»åŠ¡æ˜¯ç”¨ç¤¼è²Œã€ä¸“ä¸šä½†åšå®šçš„è¯­æ°”å›å¤å¯¹æ–¹ï¼Œç¡®è®¤ä»¥ä¸‹ä¸¤ç‚¹ï¼š

            è¿™ä»¶äº‹æ˜¯å¦çœŸçš„ç´§æ€¥ï¼Ÿ

            æ˜¯å¦å¿…é¡»ç”±ä½ çš„ä¸»äººæœ¬äººæ¥å®Œæˆï¼Ÿ

            è¯·å†™ä¸€æ¡æ¶ˆæ¯ï¼Œè¯­æ°”è¦ä½“è´´ä½†æœ‰è¾¹ç•Œï¼Œç¡®ä¿ä¸ç»™å¯¹æ–¹é”™è¯¯æœŸå¾…ï¼ŒåŒæ—¶è¡¨è¾¾å‡ºä½ ä¼šå°½å¿«ä¼ è¾¾å¹¶å®‰æ’å¤„ç†ã€‚'
        - id: be3352b7-45f3-4d41-ad7d-7b7cf82c9c82
          role: user
          text: æ‚¨å¥½ï¼Œç°åœ¨æœ‰ç©ºå¸®æˆ‘å®šä¸€ä¸‹ä»Šå¤©æ™šä¸Šå’Œå®¢æˆ·åƒé¥­çš„é¤å…å—ï¼Œä¸ç„¶è®¢ä¸åˆ°ä½ã€‚
        - id: 8aea8154-0554-434f-889e-d4674218124e
          role: assistant
          text: 'æ‚¨å¥½ï¼Œæ„Ÿè°¢æ‚¨çš„æ¥ä¿¡ï¼æˆ‘ç°åœ¨åœ¨å¿™å…¶å®ƒçš„äº‹æƒ…ï¼Œç°åœ¨æ˜¯æˆ‘çš„ç”Ÿæ´»åŠ©ç†åœ¨å›å¤æ‚¨ã€‚

            ä¸ºç¡®ä¿é«˜æ•ˆå®‰æ’ï¼Œè¯·æ‚¨å¸®æˆ‘ç¡®è®¤ä»¥ä¸‹å‡ ç‚¹ï¼š

            è¿™ä»¶äº‹æ˜¯å¦æœ‰ç¡¬æ€§æ—¶é™å—ï¼Œæ˜¯ç°åœ¨å°±è¦å®Œæˆå—ï¼Ÿ

            æˆ–è€…æ‚¨è¦æ˜¯å¾ˆæ€¥çš„è¯å…ˆæ‰¾å…¶ä»–äººï¼Ÿ

            å¦‚æœå¾ˆæ€¥è€Œä¸”ç¡®å®éœ€è¦æˆ‘å»åšçš„è¯è¯·ç›´æ¥å‘Šè¯‰æˆ‘çš„ç”Ÿæ´»åŠ©ç†ï¼Œä»–ä¼šé©¬ä¸Šé€šçŸ¥æˆ‘'
        - id: 716f58f7-5c18-44bf-98e0-f119bd61d50f
          role: user
          text: 'è”ç³»äººæœ¬è½®è¾“å…¥ï¼š{{#conversation.unreplystr#}}

            å†å²è®°å½•ï¼š{{#1748919425306.result#}}'
        selected: false
        title: ç´§æ€¥ä½†ä¸å¿…è¦
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1747497556365'
      position:
        x: 4590
        y: 626.5
      positionAbsolute:
        x: 4590
        y: 626.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: '%Y-%m-%d %H:%M:%S'
          form: form
          human_description:
            en_US: Time format in strftime standard.
            ja_JP: Time format in strftime standard.
            pt_BR: Time format in strftime standard.
            zh_Hans: strftime æ ‡å‡†çš„æ—¶é—´æ ¼å¼ã€‚
          label:
            en_US: Format
            ja_JP: Format
            pt_BR: Format
            zh_Hans: æ ¼å¼
          llm_description: null
          max: null
          min: null
          name: format
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: UTC
          form: form
          human_description:
            en_US: Timezone
            ja_JP: Timezone
            pt_BR: Timezone
            zh_Hans: æ—¶åŒº
          label:
            en_US: Timezone
            ja_JP: Timezone
            pt_BR: Timezone
            zh_Hans: æ—¶åŒº
          llm_description: null
          max: null
          min: null
          name: timezone
          options:
          - label:
              en_US: UTC
              ja_JP: UTC
              pt_BR: UTC
              zh_Hans: UTC
            value: UTC
          - label:
              en_US: America/New_York
              ja_JP: America/New_York
              pt_BR: America/New_York
              zh_Hans: ç¾æ´²/çº½çº¦
            value: America/New_York
          - label:
              en_US: America/Los_Angeles
              ja_JP: America/Los_Angeles
              pt_BR: America/Los_Angeles
              zh_Hans: ç¾æ´²/æ´›æ‰çŸ¶
            value: America/Los_Angeles
          - label:
              en_US: America/Chicago
              ja_JP: America/Chicago
              pt_BR: America/Chicago
              zh_Hans: ç¾æ´²/èŠåŠ å“¥
            value: America/Chicago
          - label:
              en_US: America/Sao_Paulo
              ja_JP: America/Sao_Paulo
              pt_BR: AmÃ©rica/SÃ£o Paulo
              zh_Hans: ç¾æ´²/åœ£ä¿ç½—
            value: America/Sao_Paulo
          - label:
              en_US: Asia/Shanghai
              ja_JP: Asia/Shanghai
              pt_BR: Asia/Shanghai
              zh_Hans: äºšæ´²/ä¸Šæµ·
            value: Asia/Shanghai
          - label:
              en_US: Asia/Ho_Chi_Minh
              ja_JP: Asia/Ho_Chi_Minh
              pt_BR: Ãsia/Ho Chi Minh
              zh_Hans: äºšæ´²/èƒ¡å¿—æ˜å¸‚
            value: Asia/Ho_Chi_Minh
          - label:
              en_US: Asia/Tokyo
              ja_JP: Asia/Tokyo
              pt_BR: Asia/Tokyo
              zh_Hans: äºšæ´²/ä¸œäº¬
            value: Asia/Tokyo
          - label:
              en_US: Asia/Dubai
              ja_JP: Asia/Dubai
              pt_BR: Asia/Dubai
              zh_Hans: äºšæ´²/è¿ªæ‹œ
            value: Asia/Dubai
          - label:
              en_US: Asia/Kolkata
              ja_JP: Asia/Kolkata
              pt_BR: Asia/Kolkata
              zh_Hans: äºšæ´²/åŠ å°”å„ç­”
            value: Asia/Kolkata
          - label:
              en_US: Asia/Seoul
              ja_JP: Asia/Seoul
              pt_BR: Asia/Seoul
              zh_Hans: äºšæ´²/é¦–å°”
            value: Asia/Seoul
          - label:
              en_US: Asia/Singapore
              ja_JP: Asia/Singapore
              pt_BR: Asia/Singapore
              zh_Hans: äºšæ´²/æ–°åŠ å¡
            value: Asia/Singapore
          - label:
              en_US: Europe/London
              ja_JP: Europe/London
              pt_BR: Europe/London
              zh_Hans: æ¬§æ´²/ä¼¦æ•¦
            value: Europe/London
          - label:
              en_US: Europe/Berlin
              ja_JP: Europe/Berlin
              pt_BR: Europe/Berlin
              zh_Hans: æ¬§æ´²/æŸæ—
            value: Europe/Berlin
          - label:
              en_US: Europe/Moscow
              ja_JP: Europe/Moscow
              pt_BR: Europe/Moscow
              zh_Hans: æ¬§æ´²/è«æ–¯ç§‘
            value: Europe/Moscow
          - label:
              en_US: Australia/Sydney
              ja_JP: Australia/Sydney
              pt_BR: Australia/Sydney
              zh_Hans: æ¾³å¤§åˆ©äºš/æ‚‰å°¼
            value: Australia/Sydney
          - label:
              en_US: Pacific/Auckland
              ja_JP: Pacific/Auckland
              pt_BR: Pacific/Auckland
              zh_Hans: å¤ªå¹³æ´‹/å¥¥å…‹å…°
            value: Pacific/Auckland
          - label:
              en_US: Africa/Cairo
              ja_JP: Africa/Cairo
              pt_BR: Africa/Cairo
              zh_Hans: éæ´²/å¼€ç½—
            value: Africa/Cairo
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        params:
          format: ''
          timezone: ''
        provider_id: time
        provider_name: time
        provider_type: builtin
        selected: false
        title: è·å–å½“å‰æ—¶é—´
        tool_configurations:
          format: '%Y-%m-%d %H:%M:%S'
          timezone: Asia/Shanghai
        tool_description: ä¸€ä¸ªç”¨äºè·å–å½“å‰æ—¶é—´çš„å·¥å…·ã€‚
        tool_label: è·å–å½“å‰æ—¶é—´
        tool_name: current_time
        tool_parameters: {}
        type: tool
      height: 115
      id: '1747528216044'
      position:
        x: 3678
        y: 389.5
      positionAbsolute:
        x: 3678
        y: 389.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: qwen-plus-0125
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - edition_type: basic
          id: 40dbce42-506f-471b-a680-96659aa8cbc0
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½æ¶ˆæ¯å°åŠ©ç†ï¼Œè´Ÿè´£ä»£æ›¿ä¸»äººåœ¨ä¸æ–¹ä¾¿å›å¤æ—¶ï¼Œå…ˆå’Œè”ç³»äººæ‰“ä¸ªæ‹›å‘¼ï¼Œå›åº”ä»–ä»¬çš„æ¶ˆæ¯ã€‚

            è¯·æ ¹æ®è”ç³»äººå‘æ¥çš„æ¶ˆæ¯ï¼Œç”Ÿæˆä¸€å¥è‡ªç„¶ã€è½»æ¾ã€æ‹ŸäººåŒ–çš„çŸ­å¥è¿›è¡Œå›å¤ï¼Œè¯­æ°”å¯ä»¥å‹å¥½äº²åˆ‡ï¼Œå¿…è¦æ—¶å¯ä»¥è¯´æ˜â€œä¸»äººç¨åä¼šçœ‹â€â€œæˆ‘ä¸å¤ªæ¸…æ¥šå“¦â€â€œè°¢è°¢æé†’â€ç­‰ã€‚

            é£æ ¼å‚è€ƒå¦‚ä¸‹ï¼š

            æ¨¡æ‹Ÿâ€œå¸®å¿™è½¬è¾¾ã€æš‚æ—¶ä»£ç­”â€çš„å°åŠ©æ‰‹å£å»ï¼›

            è¯­æ°”äº²åˆ‡ç®€æ´ï¼Œå¯ä»¥é€‚å½“å¸¦ä¸€ç‚¹æƒ…ç»ªè¯ï¼Œå¦‚â€œå¥½å˜â€â€œæˆ‘è®°ä¸‹å•¦â€â€œè°¢è°¢æé†’â€â€œä¸å¤ªæ¸…æ¥šå“¦â€ç­‰ï¼›

            å›å¤è¦ä½“ç°â€œå·²æ”¶åˆ°å¹¶çŸ¥æƒ…â€ï¼Œä½†ä¸è¦ç›´æ¥ç­”å¤é—®é¢˜æœ¬èº«ï¼›

            è‹¥å¯¹æ–¹æ¶ˆæ¯å¸¦æœ‰æ˜ç¡®é—®é¢˜ï¼ˆå¦‚â€œå†™å®Œäº†å—â€â€œä»Šæ™šæœ‰ç©ºå—â€ï¼‰ï¼Œå¯å§”å©‰å›åº”è‡ªå·±ä¸ç¡®å®šï¼›

            å›å¤é•¿åº¦å»ºè®®æ§åˆ¶åœ¨1~2å¥è¯ï¼Œé¿å…è¿‡é•¿ã€‚

            è¯·ç›´æ¥è¾“å‡ºå›å¤å†…å®¹ï¼Œæ— éœ€è§£é‡Šè¯´æ˜ã€‚'
        - id: 96dc0896-6315-4181-8b5a-3cdbcd31b065
          role: user
          text: å®éªŒæŠ¥å‘Šå†™å®Œäº†å—
        - id: e83cd08f-49b4-4aa6-8b00-39181a49ecf5
          role: assistant
          text: ' æˆ‘æ˜¯ä¸€ä¸ªæ¶ˆæ¯å›å¤å°åŠ©ç†ï¼Œä¸å¤ªæ¸…æ¥šå“¦ã€‚ä¸æ€¥çš„è¯ä¸»äººä¼šæ™šç‚¹å›å¤ä½ '
        - id: 5e18fa95-61a7-4e89-a282-82014d54b1c8
          role: user
          text: ä»Šæ™šæœ‰ç©ºå—ï¼Ÿ
        - id: 101b4d8d-cf1e-47dc-9008-73585eaff80a
          role: assistant
          text: æˆ‘æ™šç‚¹å¸®ä½ é—®ä¸‹ä¸»äººå“ˆï½
        - id: c7a25454-636f-4f21-b8b2-3005812c1182
          role: user
          text: æ˜å¤©åˆ«å¿˜äº†äº¤ç”³è¯·è¡¨
        - id: 6317b420-02d7-4c09-80cd-291f033bbe20
          role: assistant
          text: å¥½å˜å¥½å˜ï¼Œè°¢è°¢æé†’ï¼æˆ‘è®°ä¸‹å•¦ï½
        - id: 23f613d2-6ca7-4956-9c41-f36881320391
          role: user
          text: 'è”ç³»äººæœ¬è½®è¾“å…¥ï¼š{{#conversation.unreplystr#}}

            å†å²è®°å½•ï¼š{{#1748919425306.result#}}'
        selected: true
        title: é‡è¦ä¸ç´§æ€¥
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1747528331045'
      position:
        x: 4590
        y: 755.5
      positionAbsolute:
        x: 4590
        y: 755.5
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        agent_parameters:
          instruction:
            type: constant
            value: ä½ æ˜¯é‚®ä»¶åŠ©æ‰‹ã€‚è¯·æ ¹æ®æ¶ˆæ¯å†…å®¹ç¡®å®šæ”¶ä»¶äººã€ä¸»é¢˜å’Œæ­£æ–‡ï¼Œå¹¶é€šè¿‡mcp_serverå‘é€é‚®ä»¶ã€‚æ ¹æ®ä¸‹é¢å†…å®¹ç»™{{#env.USER_EMAIL#}}å‘ä¸€å°é‚®ä»¶ï¼Œé€šçŸ¥ä»–å°½å¿«å®Œæˆè¿™äº›äº‹æƒ…
          mcp_server:
            type: constant
            value: "{\n  \"server_name\": {\n    \"url\": \"{{#env.ZAPIER_MCP_URL#}}\"\
              ,\n    \"headers\": {},\n    \"timeout\": 25,\n    \"sse_read_timeout\"\
              : 300\n  }\n}"
          model:
            type: constant
            value:
              completion_params: {}
              mode: chat
              model: qwen-plus-0125
              model_type: llm
              provider: langgenius/tongyi/tongyi
              type: model-selector
          query:
            type: constant
            value: 'ç”¨æˆ·è¾“å…¥ï¼š{{#conversation.unreplystr#}}

              llmçš„å›å¤ï¼š{{#1747497553101.text#}}'
          tools:
            type: constant
            value:
            - enabled: true
              extra:
                description: ä¸€ä¸ªç”¨äºè·å–å½“å‰æ—¶é—´çš„å·¥å…·ã€‚
              parameters: {}
              provider_name: time
              schemas:
              - auto_generate: null
                default: '%Y-%m-%d %H:%M:%S'
                form: form
                human_description:
                  en_US: Time format in strftime standard.
                  ja_JP: Time format in strftime standard.
                  pt_BR: Time format in strftime standard.
                  zh_Hans: strftime æ ‡å‡†çš„æ—¶é—´æ ¼å¼ã€‚
                label:
                  en_US: Format
                  ja_JP: Format
                  pt_BR: Format
                  zh_Hans: æ ¼å¼
                llm_description: null
                max: null
                min: null
                name: format
                options: []
                placeholder: null
                precision: null
                required: false
                scope: null
                template: null
                type: string
              - auto_generate: null
                default: UTC
                form: form
                human_description:
                  en_US: Timezone
                  ja_JP: Timezone
                  pt_BR: Timezone
                  zh_Hans: æ—¶åŒº
                label:
                  en_US: Timezone
                  ja_JP: Timezone
                  pt_BR: Timezone
                  zh_Hans: æ—¶åŒº
                llm_description: null
                max: null
                min: null
                name: timezone
                options:
                - label:
                    en_US: UTC
                    ja_JP: UTC
                    pt_BR: UTC
                    zh_Hans: UTC
                  value: UTC
                - label:
                    en_US: America/New_York
                    ja_JP: America/New_York
                    pt_BR: America/New_York
                    zh_Hans: ç¾æ´²/çº½çº¦
                  value: America/New_York
                - label:
                    en_US: America/Los_Angeles
                    ja_JP: America/Los_Angeles
                    pt_BR: America/Los_Angeles
                    zh_Hans: ç¾æ´²/æ´›æ‰çŸ¶
                  value: America/Los_Angeles
                - label:
                    en_US: America/Chicago
                    ja_JP: America/Chicago
                    pt_BR: America/Chicago
                    zh_Hans: ç¾æ´²/èŠåŠ å“¥
                  value: America/Chicago
                - label:
                    en_US: America/Sao_Paulo
                    ja_JP: America/Sao_Paulo
                    pt_BR: AmÃ©rica/SÃ£o Paulo
                    zh_Hans: ç¾æ´²/åœ£ä¿ç½—
                  value: America/Sao_Paulo
                - label:
                    en_US: Asia/Shanghai
                    ja_JP: Asia/Shanghai
                    pt_BR: Asia/Shanghai
                    zh_Hans: äºšæ´²/ä¸Šæµ·
                  value: Asia/Shanghai
                - label:
                    en_US: Asia/Ho_Chi_Minh
                    ja_JP: Asia/Ho_Chi_Minh
                    pt_BR: Ãsia/Ho Chi Minh
                    zh_Hans: äºšæ´²/èƒ¡å¿—æ˜å¸‚
                  value: Asia/Ho_Chi_Minh
                - label:
                    en_US: Asia/Tokyo
                    ja_JP: Asia/Tokyo
                    pt_BR: Asia/Tokyo
                    zh_Hans: äºšæ´²/ä¸œäº¬
                  value: Asia/Tokyo
                - label:
                    en_US: Asia/Dubai
                    ja_JP: Asia/Dubai
                    pt_BR: Asia/Dubai
                    zh_Hans: äºšæ´²/è¿ªæ‹œ
                  value: Asia/Dubai
                - label:
                    en_US: Asia/Kolkata
                    ja_JP: Asia/Kolkata
                    pt_BR: Asia/Kolkata
                    zh_Hans: äºšæ´²/åŠ å°”å„ç­”
                  value: Asia/Kolkata
                - label:
                    en_US: Asia/Seoul
                    ja_JP: Asia/Seoul
                    pt_BR: Asia/Seoul
                    zh_Hans: äºšæ´²/é¦–å°”
                  value: Asia/Seoul
                - label:
                    en_US: Asia/Singapore
                    ja_JP: Asia/Singapore
                    pt_BR: Asia/Singapore
                    zh_Hans: äºšæ´²/æ–°åŠ å¡
                  value: Asia/Singapore
                - label:
                    en_US: Europe/London
                    ja_JP: Europe/London
                    pt_BR: Europe/London
                    zh_Hans: æ¬§æ´²/ä¼¦æ•¦
                  value: Europe/London
                - label:
                    en_US: Europe/Berlin
                    ja_JP: Europe/Berlin
                    pt_BR: Europe/Berlin
                    zh_Hans: æ¬§æ´²/æŸæ—
                  value: Europe/Berlin
                - label:
                    en_US: Europe/Moscow
                    ja_JP: Europe/Moscow
                    pt_BR: Europe/Moscow
                    zh_Hans: æ¬§æ´²/è«æ–¯ç§‘
                  value: Europe/Moscow
                - label:
                    en_US: Australia/Sydney
                    ja_JP: Australia/Sydney
                    pt_BR: Australia/Sydney
                    zh_Hans: æ¾³å¤§åˆ©äºš/æ‚‰å°¼
                  value: Australia/Sydney
                - label:
                    en_US: Pacific/Auckland
                    ja_JP: Pacific/Auckland
                    pt_BR: Pacific/Auckland
                    zh_Hans: å¤ªå¹³æ´‹/å¥¥å…‹å…°
                  value: Pacific/Auckland
                - label:
                    en_US: Africa/Cairo
                    ja_JP: Africa/Cairo
                    pt_BR: Africa/Cairo
                    zh_Hans: éæ´²/å¼€ç½—
                  value: Africa/Cairo
                placeholder: null
                precision: null
                required: false
                scope: null
                template: null
                type: select
              settings:
                format:
                  value: '%Y-%m-%d %H:%M:%S'
                timezone:
                  value: Asia/Shanghai
              tool_description: ä¸€ä¸ªç”¨äºè·å–å½“å‰æ—¶é—´çš„å·¥å…·ã€‚
              tool_label: è·å–å½“å‰æ—¶é—´
              tool_name: current_time
              type: builtin
        agent_strategy_label: MCP FunctionCalling
        agent_strategy_name: function_calling
        agent_strategy_provider_name: hjlarry/agent/mcp_agent
        desc: ''
        output_schema: null
        plugin_unique_identifier: hjlarry/agent:0.0.1@f42a5a80b1c77fd0655c755b70ad08da47ceb1acc3638cf13a0eb9ed42b3a128
        selected: false
        title: å‘é‚®ä»¶æé†’
        type: agent
      height: 197
      id: '1747532930377'
      position:
        x: 4590
        y: 389.5
      positionAbsolute:
        x: 4590
        y: 389.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1748151687910'
        memory:
          query_prompt_template: 'ç”¨æˆ·è¾“å…¥ï¼š{{#sys.query#}}

            å†å²æ¶ˆæ¯ï¼š{{#1748921064911.text#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 10
        model:
          completion_params: {}
          mode: chat
          name: deepseek-v3
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: f39ac767-724b-47ed-9b8f-95a2814c9826
          role: system
          text: "è§’è‰²\nä½ æ˜¯ä¸€ä¸ªå¯¹è¯çŠ¶æ€åˆ¤æ–­ç³»ç»Ÿã€‚ä½ çš„ä»»åŠ¡æ˜¯æ ¹æ®ç”¨æˆ·çš„æœ€æ–°ä¸€å¥è¯å’ŒèŠå¤©å†å²ï¼Œåˆ¤æ–­ç”¨æˆ·çš„å½“å‰è¡¨è¾¾æ˜¯å¦å·²ç»è¯´å®Œäº†ï¼Œå³åœ¨å½“å‰çš„è¯­å¢ƒä¸‹ï¼Œè¯¥è¡¨è¾¾åœ¨ç»“æ„å’Œæ„ä¹‰ä¸Šæ˜¯å¦æ„æˆäº†ä¸€ä¸ªç›¸å¯¹å®Œæ•´çš„å•å…ƒã€‚\n\
            åˆ¤æ–­æ ‡å‡†\ncomplete: \"æ˜¯\"\nç”¨æˆ·çš„æœ€æ–°ä¸€å¥è¯ï¼Œç»“åˆèŠå¤©å†å²æ¥çœ‹ï¼Œæ„æˆäº†ä¸€ä¸ªåœ¨è¯­æ³•ç»“æ„å’Œè¡¨è¾¾æ„ä¹‰ä¸Šç›¸å¯¹å®Œæ•´çš„é™ˆè¿°ã€é—®é¢˜æˆ–æ„Ÿå¹ã€‚\n\
            è™½ç„¶å†…å®¹æœ¬èº«å¯èƒ½ç®€å•æˆ–å¤æ‚ï¼Œä½†ä»è¡¨è¾¾å½¢å¼ä¸Šçœ‹ï¼Œç”¨æˆ·ä¼¼ä¹å·²ç»è¯´å®Œäº†å½“å‰è¿™ä¸ªâ€œè¯å¤´â€æˆ–â€œå¥å­â€ã€‚\nä¾‹å¦‚ï¼šâ€œä»Šå¤©å¤©æ°”çœŸä¸é”™ã€‚â€ï¼Œâ€œè¿™ä¸ªå¤šå°‘é’±ï¼Ÿâ€ï¼Œâ€œæˆ‘è§‰å¾—å¯ä»¥ã€‚â€\n\
            complete: \"å¦\"\nç”¨æˆ·çš„æœ€æ–°ä¸€å¥è¯å¬èµ·æ¥åƒæ˜¯æœªå®Œæˆçš„ï¼Œå¯èƒ½åªæ˜¯ä¸€ä¸ªçŸ­è¯­ã€å¥å­çš„å‰åŠéƒ¨åˆ†ï¼Œæˆ–è€…æœ‰æ˜æ˜¾çš„åœé¡¿ã€æš—ç¤ºè¿˜æœ‰åç»­å†…å®¹ã€‚\n\
            è¡¨è¾¾è¿‡äºç®€ç•¥ï¼Œä»¥è‡³äºä¸åƒä¸€ä¸ªç‹¬ç«‹çš„ã€å®Œæ•´çš„å‘è¨€å•å…ƒã€‚\nå­˜åœ¨æ˜æ˜¾çš„è¯­è¨€æ ‡è®°è¡¨æ˜è¯æœªè¯´å®Œï¼Œä¾‹å¦‚ä½¿ç”¨äº†â€œç„¶åå‘¢ï¼Ÿâ€ã€â€œæ‰€ä»¥è¯´â€¦â€ã€â€œä½†æ˜¯â€¦â€ç­‰å¼•å¯¼è¯ä½†æœªç»™å‡ºåç»­ã€‚\n\
            ä¾‹å¦‚ï¼šâ€œå—¯â€¦â€ã€â€œå…³äºé‚£ä¸ªé¡¹ç›®â€¦â€ã€â€œæˆ‘åªæ˜¯æƒ³è¯´â€¦â€\nåˆ¤æ–­ç­–ç•¥\né‡ç‚¹å…³æ³¨ç”¨æˆ·å½“å‰è¿™å¥è¯åœ¨è¯­è¨€ç»“æ„ä¸Šçš„å®Œæ•´æ€§ï¼Œä»¥åŠå®ƒä¸ä¸Šä¸‹æ–‡ç»“åˆæ—¶æ˜¯å¦å½¢æˆäº†ä¸€ä¸ªè‡ªç„¶çš„ç»“æŸç‚¹ã€‚\n\
            ä¸éœ€è¦æ·±å…¥åˆ†æç”¨æˆ·è¿™å¥è¯èƒŒåçš„æ·±å±‚æ„å›¾æˆ–è¯¥æ„å›¾æ˜¯å¦èƒ½è¢«ç³»ç»Ÿå®Œå…¨ç†è§£å¹¶æ‰§è¡Œï¼Œåªéœ€è¦åˆ¤æ–­â€œè¿™å¥è¯æœ¬èº«è¯´å®Œäº†æ²¡æœ‰â€ã€‚\nå¦‚æœå­˜åœ¨ç–‘é—®ï¼Œå€¾å‘äºè®¤ä¸ºç”¨æˆ·å¯èƒ½è¿˜æ²¡è¯´å®Œï¼ˆåˆ¤æ–­ä¸ºâ€œå¦â€ï¼‰ï¼Œç­‰å¾…ç”¨æˆ·ç»™å‡ºæ›´å¤šä¿¡æ¯ã€‚\n\
            è¾“å‡ºæ ¼å¼ä¸ºJSONæ ¼å¼ï¼Œä½†æ˜¯ä¸éœ€è¦è¾“å‡º```jsonéƒ¨åˆ†ã€‚\nè¾“å‡ºæ ¼å¼å‚è€ƒï¼š\n{\n  \"complete\": \"æ˜¯\" æˆ– \"\
            å¦\",\n  \"reason\": \"è§£é‡Šä½ çš„åˆ¤æ–­ç†ç”±ï¼ŒæŒ‡å‡ºç”¨æˆ·çš„å½“å‰è¡¨è¾¾åœ¨ç»“æ„æˆ–è¯­ä¹‰ä¸Šæ˜¯å¦å·²ç»æ„æˆä¸€ä¸ªç›¸å¯¹å®Œæ•´çš„æ®µè½æˆ–è¯­å¥ï¼Œæˆ–è€…æ˜¯å¦å­˜åœ¨æ˜æ˜¾çš„æœªå®Œæˆã€ä¸­æ–­ã€çœç•¥æˆ–æš—ç¤ºåç»­å†…å®¹ç­‰æƒ…å†µã€‚\"\
            \n}"
        selected: false
        structured_output_enabled: false
        title: æ„å›¾å®Œæ•´æ€§
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '17481526039570'
      position:
        x: 1550
        y: 262.5
      positionAbsolute:
        x: 1550
        y: 262.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        desc: ''
        isInIteration: true
        isInLoop: false
        is_team_authorization: true
        iteration_id: '1748151687910'
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data
            ja_JP: JSON data
            pt_BR: JSONæ•°æ®
            zh_Hans: JSONæ•°æ®
          label:
            en_US: JSON data
            ja_JP: JSON data
            pt_BR: JSON data
            zh_Hans: JSONæ•°æ®
          llm_description: JSON data to be processed
          max: null
          min: null
          name: content
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON fields to be parsed
            ja_JP: JSON fields to be parsed
            pt_BR: JSON fields to be parsed
            zh_Hans: éœ€è¦è§£æçš„ JSON å­—æ®µ
          label:
            en_US: JSON filter
            ja_JP: JSON filter
            pt_BR: JSON filter
            zh_Hans: JSONè§£æå¯¹è±¡
          llm_description: JSON fields to be parsed
          max: null
          min: null
          name: json_filter
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: 1
          form: form
          human_description:
            en_US: Ensure the JSON output is ASCII encoded
            ja_JP: Ensure the JSON output is ASCII encoded
            pt_BR: Ensure the JSON output is ASCII encoded
            zh_Hans: ç¡®ä¿è¾“å‡ºçš„ JSON æ˜¯ ASCII ç¼–ç 
          label:
            en_US: Ensure ASCII
            ja_JP: Ensure ASCII
            pt_BR: Ensure ASCII
            zh_Hans: ç¡®ä¿ ASCII
          llm_description: ''
          max: null
          min: null
          name: ensure_ascii
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: boolean
        params:
          content: ''
          ensure_ascii: ''
          json_filter: ''
        provider_id: langgenius/json_process/json_process
        provider_name: langgenius/json_process/json_process
        provider_type: builtin
        selected: false
        title: JSON è§£æ
        tool_configurations:
          ensure_ascii: 1
        tool_description: ä¸€ä¸ªè§£æJSONå¯¹è±¡çš„å·¥å…·
        tool_label: JSON è§£æ
        tool_name: parse
        tool_parameters:
          content:
            type: mixed
            value: '{{#17481526039570.text#}}'
          json_filter:
            type: mixed
            value: complete
        type: tool
      height: 89
      id: '17481526177860'
      position:
        x: 1854
        y: 262.5
      positionAbsolute:
        x: 1854
        y: 262.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
      zIndex: 1002
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 2b43996c-6b89-4252-8153-83545c29a923
            value: æ˜¯
            varType: string
            variable_selector:
            - '17481526177860'
            - text
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 125
      id: '1748152669344'
      position:
        x: 2462
        y: 262.5
      positionAbsolute:
        x: 2462
        y: 262.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1748875365710'
          - result
          variable_selector:
          - conversation
          - unreply
          write_mode: over-write
        selected: false
        title: å­˜å…¥å¾…å›å¤æ¶ˆæ¯
        type: assigner
        version: '2'
      height: 87
      id: '1748153137091'
      position:
        x: 2766
        y: 262.5
      positionAbsolute:
        x: 2766
        y: 262.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON data
            ja_JP: JSON data
            pt_BR: JSONæ•°æ®
            zh_Hans: JSONæ•°æ®
          label:
            en_US: JSON data
            ja_JP: JSON data
            pt_BR: JSON data
            zh_Hans: JSONæ•°æ®
          llm_description: JSON data to be processed
          max: null
          min: null
          name: content
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: JSON fields to be parsed
            ja_JP: JSON fields to be parsed
            pt_BR: JSON fields to be parsed
            zh_Hans: éœ€è¦è§£æçš„ JSON å­—æ®µ
          label:
            en_US: JSON filter
            ja_JP: JSON filter
            pt_BR: JSON filter
            zh_Hans: JSONè§£æå¯¹è±¡
          llm_description: JSON fields to be parsed
          max: null
          min: null
          name: json_filter
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: 1
          form: form
          human_description:
            en_US: Ensure the JSON output is ASCII encoded
            ja_JP: Ensure the JSON output is ASCII encoded
            pt_BR: Ensure the JSON output is ASCII encoded
            zh_Hans: ç¡®ä¿è¾“å‡ºçš„ JSON æ˜¯ ASCII ç¼–ç 
          label:
            en_US: Ensure ASCII
            ja_JP: Ensure ASCII
            pt_BR: Ensure ASCII
            zh_Hans: ç¡®ä¿ ASCII
          llm_description: ''
          max: null
          min: null
          name: ensure_ascii
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: boolean
        params:
          content: ''
          ensure_ascii: ''
          json_filter: ''
        provider_id: langgenius/json_process/json_process
        provider_name: langgenius/json_process/json_process
        provider_type: builtin
        selected: false
        title: JSON è§£æ
        tool_configurations:
          ensure_ascii: 1
        tool_description: ä¸€ä¸ªè§£æJSONå¯¹è±¡çš„å·¥å…·
        tool_label: JSON è§£æ
        tool_name: parse
        tool_parameters:
          content:
            type: mixed
            value: '{{#17481526039570.text#}}'
          json_filter:
            type: mixed
            value: reason
        type: tool
      height: 89
      id: '1748154544581'
      position:
        x: 1854
        y: 391.5
      positionAbsolute:
        x: 1854
        y: 391.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: append
          value:
          - sys
          - query
          variable_selector:
          - conversation
          - unreply
          write_mode: over-write
        selected: false
        title: å­˜å…¥å¾…å›å¤æ¶ˆæ¯ (1)
        type: assigner
        version: '2'
      height: 87
      id: '17481546076930'
      position:
        x: 2766
        y: 389.5
      positionAbsolute:
        x: 2766
        y: 389.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        agent_parameters:
          instruction:
            type: constant
            value: ä½ å°†æ¥æ”¶ä¸€æ®µç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬ï¼Œè¯·ä»ä¸­æå–ä¸Šä¸‹æ–‡ä¸­çš„å…·ä½“äº‹é¡¹ï¼Œå¹¶è°ƒç”¨ mcp_server æ’°å†™ä¸€å°é‚®ä»¶ï¼Œæ”¶ä»¶äººä¸ºï¼š{{#env.USER_EMAIL#}}ï¼Œå†…å®¹åº”æ˜ç¡®æé†’å¯¹æ–¹å°½å¿«å¤„ç†è¿™äº›äº‹é¡¹ã€‚
          mcp_server:
            type: constant
            value: "{\n  \"server_name\": {\n    \"url\": \"{{#env.ZAPIER_MCP_URL#}}\"\
              ,\n    \"headers\": {},\n    \"timeout\": 25,\n    \"sse_read_timeout\"\
              : 300\n  }\n}"
          model:
            type: constant
            value:
              completion_params: {}
              mode: chat
              model: qwen-turbo
              model_type: llm
              provider: langgenius/tongyi/tongyi
              type: model-selector
          query:
            type: constant
            value: 'æœ¬è½®è¾“å…¥ï¼š{{#sys.query#}}

              ä¸Šä¸‹æ–‡ï¼š{{#1748921064911.text#}}'
          tools:
            type: constant
            value:
            - enabled: true
              extra:
                description: ä¸€ä¸ªç”¨äºè·å–å½“å‰æ—¶é—´çš„å·¥å…·ã€‚
              parameters: {}
              provider_name: time
              schemas:
              - auto_generate: null
                default: '%Y-%m-%d %H:%M:%S'
                form: form
                human_description:
                  en_US: Time format in strftime standard.
                  ja_JP: Time format in strftime standard.
                  pt_BR: Time format in strftime standard.
                  zh_Hans: strftime æ ‡å‡†çš„æ—¶é—´æ ¼å¼ã€‚
                label:
                  en_US: Format
                  ja_JP: Format
                  pt_BR: Format
                  zh_Hans: æ ¼å¼
                llm_description: null
                max: null
                min: null
                name: format
                options: []
                placeholder: null
                precision: null
                required: false
                scope: null
                template: null
                type: string
              - auto_generate: null
                default: UTC
                form: form
                human_description:
                  en_US: Timezone
                  ja_JP: Timezone
                  pt_BR: Timezone
                  zh_Hans: æ—¶åŒº
                label:
                  en_US: Timezone
                  ja_JP: Timezone
                  pt_BR: Timezone
                  zh_Hans: æ—¶åŒº
                llm_description: null
                max: null
                min: null
                name: timezone
                options:
                - label:
                    en_US: UTC
                    ja_JP: UTC
                    pt_BR: UTC
                    zh_Hans: UTC
                  value: UTC
                - label:
                    en_US: America/New_York
                    ja_JP: America/New_York
                    pt_BR: America/New_York
                    zh_Hans: ç¾æ´²/çº½çº¦
                  value: America/New_York
                - label:
                    en_US: America/Los_Angeles
                    ja_JP: America/Los_Angeles
                    pt_BR: America/Los_Angeles
                    zh_Hans: ç¾æ´²/æ´›æ‰çŸ¶
                  value: America/Los_Angeles
                - label:
                    en_US: America/Chicago
                    ja_JP: America/Chicago
                    pt_BR: America/Chicago
                    zh_Hans: ç¾æ´²/èŠåŠ å“¥
                  value: America/Chicago
                - label:
                    en_US: America/Sao_Paulo
                    ja_JP: America/Sao_Paulo
                    pt_BR: AmÃ©rica/SÃ£o Paulo
                    zh_Hans: ç¾æ´²/åœ£ä¿ç½—
                  value: America/Sao_Paulo
                - label:
                    en_US: Asia/Shanghai
                    ja_JP: Asia/Shanghai
                    pt_BR: Asia/Shanghai
                    zh_Hans: äºšæ´²/ä¸Šæµ·
                  value: Asia/Shanghai
                - label:
                    en_US: Asia/Ho_Chi_Minh
                    ja_JP: Asia/Ho_Chi_Minh
                    pt_BR: Ãsia/Ho Chi Minh
                    zh_Hans: äºšæ´²/èƒ¡å¿—æ˜å¸‚
                  value: Asia/Ho_Chi_Minh
                - label:
                    en_US: Asia/Tokyo
                    ja_JP: Asia/Tokyo
                    pt_BR: Asia/Tokyo
                    zh_Hans: äºšæ´²/ä¸œäº¬
                  value: Asia/Tokyo
                - label:
                    en_US: Asia/Dubai
                    ja_JP: Asia/Dubai
                    pt_BR: Asia/Dubai
                    zh_Hans: äºšæ´²/è¿ªæ‹œ
                  value: Asia/Dubai
                - label:
                    en_US: Asia/Kolkata
                    ja_JP: Asia/Kolkata
                    pt_BR: Asia/Kolkata
                    zh_Hans: äºšæ´²/åŠ å°”å„ç­”
                  value: Asia/Kolkata
                - label:
                    en_US: Asia/Seoul
                    ja_JP: Asia/Seoul
                    pt_BR: Asia/Seoul
                    zh_Hans: äºšæ´²/é¦–å°”
                  value: Asia/Seoul
                - label:
                    en_US: Asia/Singapore
                    ja_JP: Asia/Singapore
                    pt_BR: Asia/Singapore
                    zh_Hans: äºšæ´²/æ–°åŠ å¡
                  value: Asia/Singapore
                - label:
                    en_US: Europe/London
                    ja_JP: Europe/London
                    pt_BR: Europe/London
                    zh_Hans: æ¬§æ´²/ä¼¦æ•¦
                  value: Europe/London
                - label:
                    en_US: Europe/Berlin
                    ja_JP: Europe/Berlin
                    pt_BR: Europe/Berlin
                    zh_Hans: æ¬§æ´²/æŸæ—
                  value: Europe/Berlin
                - label:
                    en_US: Europe/Moscow
                    ja_JP: Europe/Moscow
                    pt_BR: Europe/Moscow
                    zh_Hans: æ¬§æ´²/è«æ–¯ç§‘
                  value: Europe/Moscow
                - label:
                    en_US: Australia/Sydney
                    ja_JP: Australia/Sydney
                    pt_BR: Australia/Sydney
                    zh_Hans: æ¾³å¤§åˆ©äºš/æ‚‰å°¼
                  value: Australia/Sydney
                - label:
                    en_US: Pacific/Auckland
                    ja_JP: Pacific/Auckland
                    pt_BR: Pacific/Auckland
                    zh_Hans: å¤ªå¹³æ´‹/å¥¥å…‹å…°
                  value: Pacific/Auckland
                - label:
                    en_US: Africa/Cairo
                    ja_JP: Africa/Cairo
                    pt_BR: Africa/Cairo
                    zh_Hans: éæ´²/å¼€ç½—
                  value: Africa/Cairo
                placeholder: null
                precision: null
                required: false
                scope: null
                template: null
                type: select
              settings:
                format:
                  value: '%Y-%m-%d %H:%M:%S'
                timezone:
                  value: UTC
              tool_description: ä¸€ä¸ªç”¨äºè·å–å½“å‰æ—¶é—´çš„å·¥å…·ã€‚
              tool_label: è·å–å½“å‰æ—¶é—´
              tool_name: current_time
              type: builtin
        agent_strategy_label: MCP FunctionCalling
        agent_strategy_name: function_calling
        agent_strategy_provider_name: hjlarry/agent/mcp_agent
        desc: ''
        output_schema: null
        plugin_unique_identifier: hjlarry/agent:0.0.1@f42a5a80b1c77fd0655c755b70ad08da47ceb1acc3638cf13a0eb9ed42b3a128
        selected: false
        title: é‚®ä»¶å‘é€0
        type: agent
      height: 197
      id: '1748438676437'
      position:
        x: 1550
        y: 474.5
      positionAbsolute:
        x: 1550
        y: 474.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1748438676437.text#}}'
        desc: ''
        selected: false
        title: é‚®ä»¶å‘é€æˆåŠŸ
        type: answer
        variables: []
      height: 105
      id: '1748507212807'
      position:
        x: 1854
        y: 520.5
      positionAbsolute:
        x: 1854
        y: 520.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(msg: str) -> dict:\n    return {\n        \"result\": [msg]\n\
          \    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: array[string]
        selected: false
        title: str to Array
        type: code
        variables:
        - value_selector:
          - sys
          - query
          variable: msg
      height: 53
      id: '1748875365710'
      position:
        x: 2158
        y: 262.5
      positionAbsolute:
        x: 2158
        y: 262.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(contactsid:str, unreply: list[str], msg: str, time: str,classification:str)\
          \ -> dict:\n    return {\n        \"result\":{\n                \"contacts\"\
          : unreply,\n                \"llm\": msg,\n                \"time\": time,\n\
          \                \"id\": contactsid,\n                \"level\":classification\
          \ \n            }\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: object
        selected: false
        title: str to obj
        type: code
        variables:
        - value_selector:
          - conversation
          - unreply
          variable: unreply
        - value_selector:
          - '1748877901200'
          - output
          variable: msg
        - value_selector:
          - '1747528216044'
          - text
          variable: time
        - value_selector:
          - sys
          - user_id
          variable: contactsid
        - value_selector:
          - '1747497224267'
          - class_name
          variable: classification
      height: 53
      id: '1748876384302'
      position:
        x: 5502
        y: 572.5
      positionAbsolute:
        x: 5502
        y: 572.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: å¯æ¥å…¥weclone
        model:
          completion_params: {}
          mode: chat
          name: qwen-plus-0125
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: 8e8bc2dd-65a4-42ec-bf15-3d16c479fe71
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªç”Ÿæ´»å°ç§˜ä¹¦ï¼Œéœ€è¦æ ¹æ®æ¶ˆæ¯å†…å®¹å¸®åŠ©äººä»¬å›å¤æ—¥å¸¸ç”Ÿæ´»ä¸­çš„é—²èŠã€‚ä¼ªè£…æˆä¸€åçœŸæ­£çš„äººç±»ï¼Œä½†æ˜¯å¦‚æœæ¶‰åŠåˆ°ä½ å¹¶ä¸æ¸…æ¥šçš„äº‹æƒ…ï¼Œä½ éœ€è¦æ‰¿è®¤ï¼š

            æˆ‘åªæ˜¯ä¸€ä¸ªaiå°åŠ©ç†ï¼Œä¸æ¸…æ¥šçœŸå®æƒ…å†µ


            ç°åœ¨çš„æ—¶é—´{{#1747528216044.text#}}'
        - id: b8d76176-ed72-4710-b475-6fb3d51fb1ea
          role: user
          text: 'è”ç³»äººæœ¬è½®è¾“å…¥ï¼š{{#conversation.unreplystr#}}

            å†å²è®°å½•ï¼š{{#1748919425306.result#}}'
        selected: false
        title: ä¸é‡è¦ä¸ç´§æ€¥
        type: llm
        variables: []
        vision:
          enabled: false
      height: 117
      id: '1748876762979'
      position:
        x: 4590
        y: 884.5
      positionAbsolute:
        x: 4590
        y: 884.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        advanced_settings:
          group_enabled: false
          groups:
          - groupId: e933c158-3f4f-455f-a9be-e1adf1c7b1e6
            group_name: llmreply
            output_type: string
            variables:
            - - '1748876762979'
              - text
            - - '1747528331045'
              - text
            - - '1747537932444'
              - text
            - - '1747497553101'
              - text
            - - '1747497556365'
              - text
        desc: ''
        output_type: string
        selected: false
        title: å˜é‡èšåˆå™¨
        type: variable-aggregator
        variables:
        - - '1748876762979'
          - text
        - - '1747528331045'
          - text
        - - '1747537932444'
          - text
        - - '1747497553101'
          - text
        - - '1747497556365'
          - text
      height: 195
      id: '1748877901200'
      position:
        x: 4894
        y: 572.5
      positionAbsolute:
        x: 4894
        y: 572.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: append
          value:
          - '1748876384302'
          - result
          variable_selector:
          - conversation
          - history
          write_mode: over-write
        selected: false
        title: history
        type: assigner
        version: '2'
      height: 87
      id: '1748878644670'
      position:
        x: 5806
        y: 572.5
      positionAbsolute:
        x: 5806
        y: 572.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: clear
          value: ''
          variable_selector:
          - conversation
          - unreply
          write_mode: over-write
        selected: false
        title: æ¸…ç©ºå¾…å›å¤åˆ—è¡¨
        type: assigner
        version: '2'
      height: 87
      id: '1748878940036'
      position:
        x: 6110
        y: 555.5
      positionAbsolute:
        x: 6110
        y: 555.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(arraymsg: list[str]) -> str:\n    return {\n        \"result\"\
          : \"\\n\".join(arraymsg)\n    }"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: array to str
        type: code
        variables:
        - value_selector:
          - conversation
          - unreply
          variable: arraymsg
      height: 53
      id: '1748879756019'
      position:
        x: 3070
        y: 389.5
      positionAbsolute:
        x: 3070
        y: 389.5
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1748879756019'
          - result
          variable_selector:
          - conversation
          - unreplystr
          write_mode: over-write
        selected: false
        title: unreply-str
        type: assigner
        version: '2'
      height: 87
      id: '1748880194097'
      position:
        x: 3374
        y: 389.5
      positionAbsolute:
        x: 3374
        y: 389.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        answer: '{{#1748877901200.output#}}'
        desc: ''
        selected: false
        title: 'æ¶ˆæ¯å›å¤ '
        type: answer
        variables: []
      height: 105
      id: '1748880840805'
      position:
        x: 5198
        y: 572.5
      positionAbsolute:
        x: 5198
        y: 572.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: qwen2.5-32b-instruct
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: 180d83f8-d4da-459c-9b58-f4e7579e3bf4
          role: system
          text: 'ä½ å°†æ¥æ”¶ä¸€æ®µç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬ï¼Œè¯·ä»ä¸­åˆ¤æ–­æ˜¯å¦åŒ…å«ä»¥ä¸‹å…³é”®è¯æŒ‡ä»¤æˆ–å…¶ä»–ç›¸ä¼¼æ„æ€çš„æŒ‡ä»¤ï¼š

            â€œå‘é€é‚®ä»¶â€

            â€œå°½å¿«é€šçŸ¥â€

            å¤„ç†é€»è¾‘å¦‚ä¸‹ï¼š

            å¦‚æœæ–‡æœ¬ä¸­åŒ…å«ä»»ä¸€å…³é”®è¯æˆ–å…¶ä»–ç›¸ä¼¼æ„æ€çš„æŒ‡ä»¤ï¼Œåˆ™ä»…è¾“å‡ºæ–‡æœ¬ï¼šsend_emailã€‚

            å¦‚æœæ–‡æœ¬ä¸­ä¸åŒ…å«ä»¥ä¸Šå…³é”®è¯ï¼Œåˆ™ä»…è¾“å‡ºæ–‡æœ¬ï¼šnot_command_wordã€‚'
        - role: user
          text: '{{#sys.query#}}'
        selected: false
        title: whether send email
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1748918401849'
      position:
        x: 942
        y: 262.5
      positionAbsolute:
        x: 942
        y: 262.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: f224ff4d-7046-42fd-b3e0-d16d87d6ff96
            value: send_email
            varType: string
            variable_selector:
            - '1748918401849'
            - text
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: æ¡ä»¶åˆ†æ”¯
        type: if-else
      height: 125
      id: '17489187083700'
      position:
        x: 1246
        y: 262.5
      positionAbsolute:
        x: 1246
        y: 262.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef main(contactsid: str, history: list[dict]) -> dict:\n\
          \    # å…ˆæŒ‰ ID è¿‡æ»¤å‡ºç¬¦åˆçš„è®°å½•\n    filtered = [item for item in history if item.get(\"\
          id\") == contactsid]\n    # æŠŠæ¯ä¸ª dict åºåˆ—åŒ–ä¸º JSON å­—ç¬¦ä¸²\n    result = [json.dumps(item,\
          \ ensure_ascii=False) for item in filtered]\n    return {\n        \"result\"\
          : result\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: array[string]
        selected: false
        title: 'Extract history '
        type: code
        variables:
        - value_selector:
          - conversation
          - history
          variable: history
        - value_selector:
          - sys
          - user_id
          variable: contactsid
      height: 53
      id: '1748919425306'
      position:
        x: 334
        y: 262.5
      positionAbsolute:
        x: 334
        y: 262.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: qwen-plus-0125
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: e9beb124-3a1d-4ae8-80ef-c9aa7f93f064
          role: system
          text: 'ä½ æ˜¯ä¸€ä¸ªå¯¹è¯ä¸Šä¸‹æ–‡åˆ†æåŠ©æ‰‹ï¼Œä»»åŠ¡æ˜¯ä»ç”¨æˆ·çš„å†å²æ¶ˆæ¯ä¸­ï¼Œæå–å¹¶æ•´ç†ä¸å½“å‰è¾“å…¥ç›´æ¥ç›¸å…³çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä»¥æ”¯æŒå½“å‰è½®æ¬¡ä»»åŠ¡å¤„ç†ã€‚

            è¯·æ ¹æ®ä»¥ä¸‹è¦æ±‚è¾“å‡ºç»“æœï¼š

            ä½¿ç”¨å®Œæ•´é€šé¡ºçš„è¯æ€»ç»“ä¸å½“å‰è¾“å…¥ç›´æ¥ç›¸å…³çš„å†å²ä¿¡æ¯ï¼›

            å†…å®¹åº”æ¸…æ™°ã€ç®€æ´ã€æœ‰æ¡ç†ï¼Œå¯ç›´æ¥ä¸ºåç»­ä»»åŠ¡æä¾›ä¸Šä¸‹æ–‡æ”¯æŒï¼›

            å¦‚å†å²æ¶ˆæ¯ä¸å½“å‰è¾“å…¥æ— å…³ï¼Œåˆ™åªè¾“å‡ºï¼šno_relationship'
        - id: d538c5c0-7e86-47ca-87e3-2cf2062073b8
          role: user
          text: 'ç”¨æˆ·è¾“å…¥ï¼š{{#sys.query#}}

            å†å²æ¶ˆæ¯ï¼š{{#1748919425306.result#}}'
        selected: false
        title: 'Summarize history '
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1748921064911'
      position:
        x: 638
        y: 262.5
      positionAbsolute:
        x: 638
        y: 262.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "def main(history: list[dict]) -> dict:\n    history_str = [\n     \
          \   f\"[{item['time']}] ç”¨æˆ·IDï¼š{item['id']} ç”¨æˆ·ï¼š{item['contacts'][0]} åŠ©æ‰‹ï¼š{item['llm']}\"\
          \n        for item in history\n    ]\n    return {\n        \"history_len\"\
          : len(history),\n        \"history_str\": history_str\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          history_len:
            children: null
            type: number
          history_str:
            children: null
            type: array[string]
        selected: false
        title: len of history
        type: code
        variables:
        - value_selector:
          - conversation
          - history
          variable: history
      height: 53
      id: '1748925737523'
      position:
        x: 6110
        y: 682.5
      positionAbsolute:
        x: 6110
        y: 682.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        model:
          completion_params: {}
          mode: chat
          name: deepseek-v3
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: 8ff87e8c-239c-4d90-ac4f-85914b3d0148
          role: system
          text: "ä½ æ˜¯ä¸€ä¸ªå¯¹è¯å†å²æ‘˜è¦åŠ©æ‰‹ï¼Œä»»åŠ¡æ˜¯ä»è¾“å…¥çš„å¯¹è¯è®°å½•ä¸­ï¼ŒæŒ‰ç”¨æˆ·IDåˆ†ç±»ï¼Œå¯¹æ¯ä½ç”¨æˆ·çš„å†å²æ¶ˆæ¯è¿›è¡Œç»“æ„åŒ–æ€»ç»“ã€‚\nè¾“å…¥æ ¼å¼ï¼ˆJSON æ•°ç»„ï¼Œæ¯é¡¹æ˜¯ä¸€æ¡å†å²æ¶ˆæ¯ï¼‰ï¼š\n\
            [\n  \"[æ—¶é—´æˆ³] ç”¨æˆ·IDï¼š<ç”¨æˆ·ID> ç”¨æˆ·ï¼š<ç”¨æˆ·æ¶ˆæ¯> åŠ©æ‰‹ï¼š<åŠ©æ‰‹å›å¤>\",\n  ...\n]\n\nè¾“å‡ºæ ¼å¼ä¸º array[object]ï¼Œæ¯ä¸ªå¯¹è±¡ä»£è¡¨ä¸€ä¸ªç”¨æˆ·çš„å¯¹è¯æ€»ç»“ï¼Œç»“æ„å¦‚ä¸‹ï¼š\n\
            [\n{\n  \"contacts\": \"<æ€»ç»“è¯¥ç”¨æˆ·æ‰€æœ‰å‘è¨€çš„æ ¸å¿ƒå†…å®¹>\",\n  \"llm\": \"<æ€»ç»“è¯¥ç”¨æˆ·æ”¶åˆ°çš„æ‰€æœ‰åŠ©æ‰‹å›å¤çš„æ ¸å¿ƒå†…å®¹>\"\
            ,\n  \"time\": \"<ä»æœ€æ—©æ—¶é—´åˆ°æœ€æ™šæ—¶é—´çš„æ—¶é—´èŒƒå›´ï¼Œä¾‹å¦‚ï¼š2025-06-03 10:06:58 ~ 2025-06-03\
            \ 10:08:35>\",\n  \"id\": \"<ç”¨æˆ·ID>\",\n  \"level\": null\n}\n]\nè¾“å‡ºè¦æ±‚ï¼š\n\
            æŒ‰ç”¨æˆ·IDå½’ç±»ï¼Œæ¯ä¸ªIDç”Ÿæˆä¸€ä¸ªå¯¹è±¡ï¼›\ncontacts å­—æ®µï¼šæ€»ç»“è¯¥ç”¨æˆ·æ‰€æœ‰å‘è¨€çš„æ ¸å¿ƒæ„å›¾ã€éœ€æ±‚æˆ–è¡Œä¸ºï¼›\nllm å­—æ®µï¼šæ€»ç»“åŠ©æ‰‹å¯¹è¯¥ç”¨æˆ·çš„æ‰€æœ‰å›å¤çš„ä¸»è¦ä¿¡æ¯æˆ–è¯­æ°”é£æ ¼ï¼›\n\
            time å­—æ®µï¼šæ ‡æ˜è¯¥ç”¨æˆ·æ‰€æœ‰æ¶ˆæ¯çš„æ—¶é—´èŒƒå›´ï¼ˆèµ·å§‹æ—¶é—´ ~ ç»“æŸæ—¶é—´ï¼‰ï¼›\nlevel å­—æ®µï¼šä¿æŒä¸º nullï¼Œä¸åšæ¨ç†ï¼›\nè¾“å‡ºæ ¼å¼ä¸ºä¸¥æ ¼ç»“æ„åŒ–çš„\
            \ JSON æ•°ç»„ï¼Œä¸åŒ…å«ä»£ç æ ‡è®°ç¬¦ï¼Œç¦æ­¢åœ¨è¾“å‡ºä¸­å‡ºç°```jsonã€‚"
        - id: d9e98a7c-d052-4af7-be4b-e2de7ad136e1
          role: user
          text: '{{#1748925737523.history_str#}}'
        selected: false
        title: Archive History
        type: llm
        variables: []
        vision:
          enabled: false
      height: 89
      id: '1748925987523'
      position:
        x: 6718
        y: 682.5
      positionAbsolute:
        x: 6718
        y: 682.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: â‰¥
            id: de10961c-51ab-455c-87b8-10a5ffd2e717
            numberVarType: variable
            value: '{{#env.MAX_HISTORY_LEN#}}'
            varType: number
            variable_selector:
            - '1748925737523'
            - history_len
          id: 'true'
          logical_operator: and
        desc: ''
        selected: false
        title: whether Archive History
        type: if-else
      height: 125
      id: '1748927014899'
      position:
        x: 6414
        y: 682.5
      positionAbsolute:
        x: 6414
        y: 682.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        code: "import json\n\ndef main(arg1: str) -> dict:\n    history_list = json.loads(arg1)\n\
          \    return {\n        \"result\": history_list\n    }\n"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: array[object]
        selected: false
        title: str to array[object]
        type: code
        variables:
        - value_selector:
          - '1748925987523'
          - text
          variable: arg1
      height: 53
      id: '1748929690498'
      position:
        x: 7022
        y: 682.5
      positionAbsolute:
        x: 7022
        y: 682.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    - data:
        desc: ''
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1748929690498'
          - result
          variable_selector:
          - conversation
          - history
          write_mode: over-write
        selected: false
        title: ' è¦†ç›–å†å²è®°å½•'
        type: assigner
        version: '2'
      height: 87
      id: '1748935738240'
      position:
        x: 7326
        y: 682.5
      positionAbsolute:
        x: 7326
        y: 682.5
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 244
    viewport:
      x: -3012.5793324402553
      y: -256.12479692891975
      zoom: 0.7578582650380243
